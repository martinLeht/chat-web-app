<mat-card class="chat-card">
    <mat-card-title class="chat-card-title">Chat with </mat-card-title>
    <mat-card-content class="chat-card-content">
        <mat-card class="chat-messages-window">
            <mat-card-content>
                <div *ngFor="let notification of notifications">
                    <p mat-line class="chat-notification" *ngIf="notification.action === action.JOINED">
                        <span> <b>{{notification.from.username}}</b> {{notification.info}} </span>
                    </p>
                </div>
                
                <div class="chat-messages-content" *ngFor="let message of messages">
                    <div [className]="user.uuid === message.sender.uuid ? 'my-message' : 'incoming-message'">
                        <h5 id="message-sender">{{message.sender.username}} (sent {{message.creationTime}})</h5>
                        <p id="message-content">
                            {{message.body}}
                        </p>
                    </div>
                </div>
                
                <br>
            </mat-card-content>
        </mat-card>

        <form [formGroup]="messageForm" (ngSubmit)="sendMessage()" novalidate>
            <div class="chat-input-group">
                <mat-form-field class="message-input">
                    <textarea matInput name="message" formControlName="message" placeholder="Send a message"></textarea>
                </mat-form-field>
                <button class="send-button" mat-stroked-button color="primary">
                    <span>Send</span>
                    <mat-icon>send</mat-icon>
                </button>    
            </div>
        </form>
    </mat-card-content>
</mat-card>
